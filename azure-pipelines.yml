trigger:
- main
variables:
- group: swa-secrets
pool:
  vmImage: ubuntu-latest

steps:
- task: AzureStaticWebApp@0
  inputs:
    app_location: "/"          # root folder
    api_location: ""            # empty if no backend
    output_location: "build"    # React â†’ build
  env:
    azure_static_web_apps_api_token: $(SWA_DEPLOYMENT_TOKEN)
    REACT_APP_AZURE_AD_CLIENT_ID: $(REACT_APP_AZURE_AD_CLIENT_ID)
    REACT_APP_AZURE_AD_TENANT_ID: $(REACT_APP_AZURE_AD_TENANT_ID)
    REACT_APP_AZURE_AD_REDIRECT_URI: $(REACT_APP_AZURE_AD_REDIRECT_URI)